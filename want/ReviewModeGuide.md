# 審査モードについて - App Store審査用ガイド

## 審査モードの概要

本アプリには、Apple審査担当者がスムーズにアプリの機能をテストできるよう、**審査モード**が実装されています。

## 審査モードの機能

### 1. AI機能の無制限利用
- 審査モードが有効な場合、サブスクリプション状態に関係なくAI機能が利用可能
- 2日間のトライアル期間や月額サブスクリプションの制限を一時的に解除
- 審査担当者が全機能をテストできる環境を提供

### 2. 審査モードの有効化方法
**審査モードは自動的に有効化されています**
- アプリ起動時に自動的に審査モードが有効になります
- 画面上部に「🔍 審査モード」の表示が出現します
- 追加の設定は不要です

### 3. 審査モードの無効化方法（開発者向け）
- サブスクリプション画面で「審査モードを無効にする」ボタンをタップ
- または、アプリを再起動して通常のサブスクリプション制限を適用

## 審査時の推奨手順

### Step 1: アプリ起動
1. アプリを起動
2. 画面上部に「🔍 審査モード」の表示を確認
3. 審査モードが有効になっていることを確認

### Step 2: AI機能のテスト
1. ペルソナを作成（例：「家族の母」）
2. チャット画面でAIとの会話をテスト
3. 感情分析機能を確認
4. 会話履歴の保存機能を確認

### Step 3: サブスクリプション機能のテスト
1. 設定画面 → 「サブスクリプション」をタップ
2. サブスクリプション画面の表示を確認
3. 購入ボタンの動作を確認（実際の購入は不要）

### Step 4: その他の機能テスト
1. ペルソナ管理機能
2. データエクスポート機能
3. 利用規約・プライバシーポリシーの表示

## リリース時の対応

### 審査モードの無効化
- **リリース版では審査モードは自動的に無効化されます**
- デバッグビルドでのみ審査モードが利用可能
- 本番環境では通常のサブスクリプション制限が適用

### セキュリティ対策
- 審査モードは開発・審査専用機能
- 一般ユーザーには審査モードの存在は表示されません
- 本番環境では適切なサブスクリプション制限が機能します

## 技術的詳細

### 審査モードの実装
```swift
// 審査モードの確認
var isReviewModeEnabled: Bool {
    return userDefaults.bool(forKey: reviewModeKey)
}

// AI機能の利用可否判定
func canUseAI() -> Bool {
    if isReviewModeEnabled {
        return true // 審査モードでは常に許可
    }
    return subscriptionStatus == .active || subscriptionStatus == .trial
}
```

### 審査モードの状態管理
- UserDefaultsを使用して審査モードの状態を保存
- アプリ起動時に自動的に有効化
- リリース版では審査モード機能自体が無効化

## 注意事項

### 審査担当者向け
- 審査モードは審査専用の機能です
- 実際の購入は行わず、機能の動作確認のみを行ってください
- 審査完了後は審査モードを無効化してください

### 開発者向け
- 審査モードは開発・審査専用です
- リリース版では適切に無効化されます
- 一般ユーザーには影響しません

## お問い合わせ

審査モードに関するご質問がございましたら、以下までお問い合わせください：

**メール:** igafactory2023@gmail.com

---

**重要:** この審査モードは、Apple審査担当者がアプリの全機能を効率的にテストできるよう設計されています。リリース版では通常のサブスクリプション制限が適用され、ユーザーは適切に課金が必要となります。 